<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>云店后台</title>
    <link rel="stylesheet" href="./layui/css/layui.css" />
    <link rel="stylesheet" href="./css/base.min.css" />
    <link rel="stylesheet" href="./css/global.min.css" />
    <link rel="stylesheet" href="./css/orderManager.min.css" />
</head>


<body class="layui-layout-body lz-order-manager">

    <div class="layui-layout layui-layout-admin">
        <!-- HeaderBar S -->
        <div class="layui-header">
            <div class="layui-logo">
                云店后台
            </div>
            <ul class="layui-nav layui-layout-right">
                <li class="layui-nav-item-1">
                    <span class="layui-badge layui-bg-green">28</span>天后到期
                    <!-- <a class="layui-btn layui-btn-xs">立即购买</a> -->
                </li>
                <li class="layui-nav-item">
                    <a href="">admin</a>
                    <dl class="layui-nav-child">
                        <dd>
                            <a href="javascript:;">修改信息</a>
                        </dd>
                        <dd>
                            <a href="javascript:;">安全管理</a>
                        </dd>
                        <dd>
                            <a href="javascript:;">退了</a>
                        </dd>
                    </dl>
                </li>

            </ul>
        </div>
        <!-- HeaderBar E -->

        <!-- Sidebar S -->
        <div class="layui-side layui-bg-black">
            <ul class="layui-nav layui-nav-tree">
                <li class="layui-nav-item layui-this">
                    <a href="./index.html">
                        <i class="layui-icon layui-icon-home"></i>
                        <cite>首页</cite>
                    </a>
                </li>
                <li class="layui-nav-item" lay-unselect>
                    <a href="./goodManager.html">
                        <i class="layui-icon layui-icon-list"></i>
                        <cite>商品管理</cite>
                    </a>
                </li>
                <li class="layui-nav-item">
                    <a href="./classManager.html">
                        <i class="layui-icon layui-icon-set"></i>
                        <cite>分类管理</cite>
                    </a>
                </li>
                <li class="layui-nav-item">
                    <a href="./orderManager.html">
                        <i class="layui-icon layui-icon-set"></i>
                        <cite>订单管理</cite>
                    </a>
                </li>
                <li class="layui-nav-item">
                    <a href="./shopManager.html">
                        <i class="layui-icon layui-icon-set"></i>
                        <cite>店铺管理</cite>
                    </a>
                </li>
                <li class="layui-nav-item">
                    <a href="./activityManager.html">
                        <i class="layui-icon layui-icon-set"></i>
                        <cite>活动管理</cite>
                    </a>
                </li>
                <li class="layui-nav-item">
                    <a href="./personCenter.html">
                        <i class="layui-icon layui-icon-username"></i>
                        <cite>个人中心</cite>
                    </a>
                </li>
                <li class="layui-nav-item">
                    <a href="./setting.html">
                        <i class="layui-icon layui-icon-set"></i>
                        <cite>设置</cite>
                    </a>
                </li>
            </ul>
        </div>
        <!-- Sidebar E -->

        <!-- Main S -->
        <div class="layui-body">
            <div class="lz-body-container">
                <div class="layui-fluid lz-mt15">
                    <div class="layui-row">
                        <div class="layui-col-md3">
                            <div class="layui-tab layui-tab-brief" lay-filter="omTab">
                                <!-- 外层 Tab 标题 S -->
                                <ul class="layui-tab-title">
                                    <li class="layui-this">今日订单</li>
                                    <li>历史订单</li>
                                </ul>
                                <!-- 外层 Tab 标题 E -->
                            </div>
                        </div>
                        <!-- 搜索框 S -->
                        <div class="layui-col-md-offset5 layui-col-md4 lz-search">
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <div class="layui-input-block lz-search-input">
                                        <input type="text" placeholder="请输入" class="layui-input" />
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <button class="layui-btn">
                                        <i class="layui-icon layui-icon-search"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- 搜索框 E -->
                    </div>
                    <!-- 外层 Tab -> 今日订单、历史订单 S -->
                    <div class="layui-tab-content" data-tabType="omTab">
                        <div class="layui-tab-item layui-show">
                            <!-- 内层 Tab -> 全部、待接单... S -->
                            <div class="layui-tab layui-tab-brief">
                                <ul class="layui-tab-title">
                                    <li class="layui-this">全部</li>
                                    <li>待接单</li>
                                    <li>已接订单</li>
                                    <li>正在配送</li>
                                    <li>已完成</li>
                                    <li>退款</li>
                                </ul>
                                <div class="layui-tab-content">
                                    <div class="layui-tab-item layui-show">
                                        <!-- 全部订单 S -->
                                        <table class="layui-hide" id="TB_ALL" lay-filter="TB_All_F"></table>
                                        <!-- 全部订单 S -->
                                    </div>
                                    <div class="layui-tab-item">CSS</div>
                                    <div class="layui-tab-item">JAVASCRIPT</div>
                                    <div class="layui-tab-item">JAVASCRIPT</div>
                                    <div class="layui-tab-item">JAVASCRIPT</div>
                                    <div class="layui-tab-item">JAVASCRIPT</div>
                                </div>
                            </div>
                            <!-- 内层 Tab E -->
                        </div>
                        <div class="layui-tab-item">历史订单</div>
                    </div>
                    <!-- 外层 Tab E -->
                </div>
            </div>
        </div>
        <!-- Main E -->

        <!-- Footer S -->
        <div class="layui-footer lz-copyright">
            <p class="lz-copyright-infos">江苏乐筑网络科技有限公司</p>
        </div>
        <!-- Footer E -->

        <!-- 适配手机端 S -->
        <div class="site-mobile-tree layui-hide">
            <i class="layui-icon layui-icon-next"></i>
        </div>
        <div class="site-mobile-shade"></div>
        <!-- 适配手机端 E -->

        <!-- tool S -->
        <script type="text/html" id="TB_ALL_TOOL">
            <!-- 此处模拟状态, 服务端开发时候去掉 S -->
            <span>随机模拟状态: {{ d.ztType }}</span>
            <!-- 此处模拟状态, 服务端开发时候去掉 E -->

            <!-- 此处只是模拟判断, 服务端自行判断 S -->
            {{# if(d.ztType == 1) { }}
                <a class="layui-btn layui-btn-xs" lay-event="order">接单{{ d.ztType }}</a>
            {{# } }}
            <!-- 此处只是模拟判断, 服务端自行判断 E -->
            <a class="layui-btn layui-btn-xs" lay-event="agree">同意</a>
            <a class="layui-btn layui-btn-xs" lay-event="rejected">驳回</a>

            <a class="layui-btn layui-btn-xs layui-btn-disabled">驳回</a>
            <a class="layui-btn layui-btn-xs layui-btn-disabled">同意</a>

            <a class="layui-btn layui-btn-xs layui-btn-disabled">接单</a>
        </script>
        <!-- tool E -->
    </div>

    <script src="./layui/layui.js"></script>
    <script>
        layui.config({ base: '/js/' }).use('global');
    </script>
    <script>
        layui.use(['element', 'table', 'layer'], function () {
            var element = layui.element,
                table = layui.table,
                $ = layui.jquery;

            // 监听外层 tab
            element.on('tab(omTab)', function (data) {
                var tabItems = $('div[data-tabType="omTab"]>.layui-tab-item');
                tabItems.removeClass('layui-show');
                tabItems.eq(data.index).addClass('layui-show');
            });

            // 渲染表格
            table.render({
                elem: '#TB_ALL',
                align: 'center',
                cols: [[
                    {
                        field: 'id', title: 'ID'
                    },
                    {
                        field: 'sp', title: '商品'
                    },
                    {
                        field: 'sl', title: '数量'
                    },
                    {
                        field: 'dj', title: '单价'
                    },
                    {
                        field: 'zt', title: '状态'
                    },
                    {
                        // 此处宽度只是为了显示完整按钮, 服务端判断的时候, 可以把 width 去掉
                        title: '操作', fixed: 'right', width: 400, toolbar: '#TB_ALL_TOOL'
                    }
                ]],
                data: [{
                    "id": 1,
                    "sp": "商品",
                    "sl": "数量",
                    "dj": "单价",
                    "zt": "状态",
                    "ztType": Math.floor(Math.random() * 7) + 1
                }, {
                    "id": 1,
                    "sp": "商品",
                    "sl": "数量",
                    "dj": "单价",
                    "zt": "状态",
                    "ztType": Math.floor(Math.random() * 7) + 1

                }, {
                    "id": 1,
                    "sp": "商品",
                    "sl": "数量",
                    "dj": "单价",
                    "zt": "状态",
                    "ztType": Math.floor(Math.random() * 7) + 1
                }],
                page: true
            });

            // 监听 tool
            table.on('tool(TB_All_F)', function (obj) {
                var data = obj.data,      // 当前行数据
                    layEvent = obj.event, // 获得 lay-event 对应的值
                    tr = obj.tr;          // 获得当前行 tr 的 DOM 对象

                if (layEvent === 'order') {
                    layer.msg('接单');
                } else if (layEvent === 'agree') {
                    layer.msg('同意');
                } else if (layEvent === 'rejected') {
                    layer.msg('驳回');
                } else {
                    layer.msg('错误');
                }

            });
        });
    </script>
</body>

</html>